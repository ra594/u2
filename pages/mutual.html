<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mutual Connections</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">Instagram Followers</div>
      <a class="header-link" href="../index.html">Home</a>
      <a class="header-link" href="help.html">Usage</a>
    </div>
  </header>
  <main>
    <h1 id="page-title">Mutual Connections</h1>
    <div class="list-container" id="list-container">
      <!-- Cards will be dynamically inserted here -->
    </div>
  </main>
  <footer>
    <p>&copy; 2025 DiswayDatway Inc.</p>
  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mutualList = JSON.parse(localStorage.getItem('mutualList') || '[]');
      const listContainer = document.getElementById('list-container');
      const titleElem = document.getElementById('page-title');
      
      titleElem.textContent = `Mutual Connections (${mutualList.length})`;

      if (mutualList.length === 0) {
        const card = document.createElement('div');
        card.className = 'card';
        card.textContent = 'No mutual connections found.';
        listContainer.appendChild(card);
      } else {mutualList.forEach(function(username) {
        const card = document.createElement('div');
        card.className = 'card';
        
        // Create username element
        const usernameSpan = document.createElement('span');
        usernameSpan.textContent = username;
        
        // Create inline container for icons
        const iconsContainer = document.createElement('span');
        iconsContainer.className = 'card-icons';
        iconsContainer.style.display = 'inline-flex';
        iconsContainer.style.gap = '5px';
        iconsContainer.style.verticalAlign = 'middle';
        
        // Create external link icon (using instagram.svg)
        const externalLink = document.createElement('a');
        externalLink.href = `https://instagram.com/${username}/`;
        externalLink.target = '_blank';
        externalLink.rel = 'noopener noreferrer';
        const externalImg = document.createElement('img');
        externalImg.src = '../assets/instagram.svg';
        externalImg.alt = 'Instagram';
        externalImg.style.maxHeight = '1em';
        externalImg.style.verticalAlign = 'middle';
        externalImg.style.transform = 'translateY(-2px)';

        externalLink.appendChild(externalImg);
        
        // Create info icon with tooltip
        const infoIcon = document.createElement('span');
        infoIcon.title = 'Timestamps';
        const infoImg = document.createElement('img');
        infoImg.src = '../assets/info.svg';
        infoImg.alt = 'Info';
        infoImg.style.maxHeight = '1em';
        infoImg.style.verticalAlign = 'middle';
        infoImg.style.transform = 'translateY(-2px)';


        infoIcon.appendChild(infoImg);
        
        // Append icons to inline container
        iconsContainer.appendChild(externalLink);
        iconsContainer.appendChild(infoIcon);
        
        // Append username and icons container (with a small space between)
        card.appendChild(usernameSpan);
        card.appendChild(document.createTextNode(' '));
        card.appendChild(iconsContainer);
        
        listContainer.appendChild(card);
      });

      }
    });
  </script>
</body>
</html>
